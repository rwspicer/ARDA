{% extends 'layouts/base.html' %}

{% block title %}
Search Results Page
{% endblock %}

{% block content %} 

{% if page_url == "/events/"%}
	<h1> Events </h1>
{% else %}
	<h1> Results </h1>
{% endif %}

{% if content %}
	{% if page_url == "/events/"%}
		<p>{{ content.paginator.count }} Event{{ content.paginator.count|pluralize }} </p> 
		<p>Page {{ content.number }} of {{ content.paginator.num_pages }} </p>
	{% else %}
		<p>Found {{ content.paginator.count }} Resource{{ content.paginator.count|pluralize }} </p> 
		<p>Page {{ content.number }} of {{ content.paginator.num_pages }} </p>
	{% endif %}
    <table>
	{% for resource in content %}
    	<table>
    	<tr>
        	<td>
        		<a href="../{{ resource.r_id }}/">{{ resource.title }}</a> 
        	</td>
    	</tr>
    	<tr>
        	<td>
        		{{resource.description}} 
        	</td>
    	</tr>
    	</table>
	{% endfor %}
    </table>
	
	<div class="row">
		<div class="columns">
			<ul class="pagination">
				{% if content.has_previous %}
					<li class="arrow"><a href="{{ page_url }}?page={{ content.previous_page_number }}&{{ filter_url_addon }}/">&laquo; Previous </a></li>
				{% else %}
					<li class="arrow_unavailable"><a href="">&laquo; Previous </a></li>
				{% endif %}
				{% for page in content.paginator.page_range %}
					{% if page == content.number %}
						<li class="current"><a href"{{ page_url }}?page={{ page }}&{{ filter_url_addon }}">{{ page }}</a></li>
					{% else %}
						<li><a href="{{ page_url }}?page={{ page }}&{{ filter_url_addon }}">{{ page }}</a></li>
					{% endif %}
				{% endfor %}
				{% if content.has_next %}
					<li class="arrow"><a href="{{ page_url }}?page={{ content.next_page_number }}&{{ filter_url_addon }}/"> Next &raquo;</a></li>
				{% else %}
					<li class="arrow_unavailable"><a href=""> Next &raquo;</a></li>
				{% endif %}
			</ul> 
		</div>
	</div>
	
	
{% else %}
	{% if page_url == "/events/"%}
		<p>Sorry, we donâ€™t have any events scheduled at this time. Please check back at a later date. </p>
	{% else %}
    	<p>No resources matched your search criteria.</p>
	{% endif %}
{% endif %}


{% endblock %}
